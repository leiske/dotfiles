# vim:ft=bash

alias winry="cd /home/valid/develop/winry"

alias pbcopy='clip.exe'
alias pbpaste="powershell.exe -command 'Get-Clipboard' | tr -d '\r' | head -n -1"

# journal
export logdir=~/.journal
function journal(){
   local file="$logdir/$(date +%Y-%m-%d -d "$*").md"

    # git -C "$logdir" pull --rebase

    vim "$file"

    if [[ -n "$(git -C "$logdir" status --porcelain "$file")" ]]; then
        git -C "$logdir" add "$file"
        git -C "$logdir" commit -m "journal: $(basename "$file" .md)"
        git -C "$logdir" push
    fi
}

alias ask='ollama run llama3 "$1"'
alias askg='ollama run llama3 "$1" | glow'

alias sail='sh $([ -f sail ] && echo sail || echo vendor/bin/sail)'
alias open='explorer.exe .'

# asdf version manager for things like node
# . "$HOME/.asdf/asdf.sh"
# . "$HOME/.asdf/completions/asdf.bash"

# write to histroy on all comamnd invocations
PROMPT_COMMAND="history -a; history -c; history -r"
# check if using zsh or bash to run correct fzf version
if [ -n "$ZSH_VERSION" ]; then
  eval "$(fzf --zsh)"
elif [ -n "$BASH_VERSION" ]; then
  eval "$(fzf --bash)"
fi
